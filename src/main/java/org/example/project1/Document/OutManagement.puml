@startuml
autoactivate on
title 출고요청 관리 프로세스
actor 관리자 as admin
participant "AdminMenuFrame" as AMF
participant "OutgoingConfirmPanel" as OCP
participant "OutputInfo2DAO" as OI2DAO
participant "OutputInfoDAO" as OIDAO
participant "AdminDAO" as ADAO
database "데이터베이스" as DB
admin -> AMF : 출고요청관리 버튼 클릭
AMF -> OCP : 패널 생성 및 표시
group 데이터 로드
OCP -> OI2DAO : getAllData() 호출
OI2DAO -> DB : SQL 쿼리 실행
DB --> OI2DAO : 결과 반환
OI2DAO --> OCP : 데이터 반환
OCP -> OCP : 테이블에 데이터 표시
end
group 필터링
admin -> OCP : 필터 선택 (전체/승인/대기중/거절)
OCP -> OI2DAO : 해당 메서드 호출 (getAllData/getApprove/getPending/getReject)
OI2DAO -> DB : SQL 쿼리 실행
DB --> OI2DAO : 필터링된 결과 반환
OI2DAO --> OCP : 데이터 반환
OCP -> OCP : 테이블 갱신
end
group 승인/거절 처리
admin -> OCP : 승인 또는 거절 버튼 클릭
OCP -> OIDAO : updateStatusForApprove() 또는 updateStatusForReject() 호출
OIDAO -> DB : SQL 업데이트 쿼리 실행
DB --> OIDAO : 업데이트 결과
OIDAO --> OCP : 처리 결과 반환
OCP -> OCP : 결과 메시지 표시 및 테이블 갱신
end
group 결재자 검색
admin -> OCP : 결재자 사번 입력 및 검색
OCP -> OIDAO : listForConfirm() 호출
OIDAO -> DB : SQL 쿼리 실행
DB --> OIDAO : 검색 결과 반환
OIDAO --> OCP : 데이터 반환
OCP -> OCP : 검색 결과 표시
end
@enduml